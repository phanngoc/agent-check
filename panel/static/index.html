<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Process Manager Panel</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Process Manager Panel</h1>
            <div class="header-actions">
                <button id="refreshBtn" class="btn btn-secondary">üîÑ Refresh</button>
                <div class="system-metrics" id="systemMetrics"></div>
            </div>
        </header>

        <!-- Combined Logs Area -->
        <div id="combinedLogsArea" class="combined-logs-area">
            <div class="combined-logs-header">
                <div class="combined-logs-title">
                    <h2>üìã Combined Logs</h2>
                    <span class="combined-logs-subtitle">All services logs combined</span>
                </div>
                <button id="toggleCombinedLogsBtn" class="btn btn-secondary" onclick="toggleCombinedLogsArea()">
                    <span id="toggleCombinedLogsIcon">‚ñº</span> Collapse
                </button>
            </div>
            <div id="combinedLogsContent" class="combined-logs-content">
                <div class="combined-logs-filters">
                    <div class="filter-row">
                        <div class="filter-group">
                            <label>Level:</label>
                            <select id="combinedLogsLevel">
                                <option value="all">All</option>
                                <option value="error">Error</option>
                                <option value="warn">Warn</option>
                                <option value="info">Info</option>
                                <option value="debug">Debug</option>
                            </select>
                        </div>
                        <div class="filter-group filter-group-full">
                            <label>Search:</label>
                            <input type="text" id="combinedLogsSearch" placeholder="Search in log messages...">
                        </div>
                        <div class="filter-group">
                            <button class="btn btn-primary" onclick="applyCombinedLogFilter()">Apply</button>
                            <button class="btn btn-secondary" onclick="clearCombinedLogFilter()">Clear</button>
                        </div>
                    </div>
                </div>
                <div id="combinedLogsDisplay" class="combined-logs-display"></div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="services">Services</button>
            <button class="tab-btn" data-tab="containers">Docker Containers</button>
        </div>

        <!-- Services Tab -->
        <div id="servicesTab" class="tab-content active">
            <div class="services-grid" id="servicesGrid"></div>
        </div>

        <!-- Containers Tab -->
        <div id="containersTab" class="tab-content">
            <div class="containers-grid" id="containersGrid"></div>
        </div>

        <!-- Service Detail Page -->
        <div id="serviceDetailPage" class="tab-content">
            <div class="service-detail-container">
                <div class="detail-header">
                    <button class="btn btn-secondary" onclick="navigateToHome()">‚Üê Back</button>
                    <h2 id="serviceDetailTitle">Service Details</h2>
                </div>

                <!-- Service Info Section -->
                <div class="detail-section">
                    <h3>Service Information</h3>
                    <div class="info-grid" id="serviceInfoGrid"></div>
                </div>

                <!-- Metrics Section -->
                <div class="detail-section">
                    <h3>Metrics</h3>
                    <div class="metrics-row" id="serviceDetailMetrics"></div>
                </div>

                <!-- Log Filter Section -->
                <div class="detail-section">
                    <h3>Logs Filter</h3>
                    <div class="filter-form">
                        <div class="filter-row">
                            <div class="filter-group">
                                <label>Level:</label>
                                <select id="filterLevel">
                                    <option value="all">All</option>
                                    <option value="info">Info</option>
                                    <option value="error">Error</option>
                                    <option value="warn">Warn</option>
                                    <option value="debug">Debug</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>From:</label>
                                <input type="datetime-local" id="filterFrom">
                            </div>
                            <div class="filter-group">
                                <label>To:</label>
                                <input type="datetime-local" id="filterTo">
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-group filter-group-full">
                                <label>Search Message:</label>
                                <input type="text" id="filterSearch" placeholder="Search in log messages...">
                            </div>
                        </div>
                        <div class="filter-row">
                            <div class="filter-group">
                                <label>Operator:</label>
                                <div class="radio-group">
                                    <label><input type="radio" name="filterOperator" value="and" checked> AND</label>
                                    <label><input type="radio" name="filterOperator" value="or"> OR</label>
                                </div>
                            </div>
                            <div class="filter-group">
                                <label>Limit:</label>
                                <input type="number" id="filterLimit" value="1000" min="1" max="10000">
                            </div>
                            <div class="filter-group">
                                <button class="btn btn-primary" onclick="applyLogFilter()">Apply Filter</button>
                                <button class="btn btn-secondary" onclick="clearLogFilter()">Clear</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Logs Display Section -->
                <div class="detail-section">
                    <div class="logs-header">
                        <h3>Logs</h3>
                        <div class="logs-info" id="logsInfo"></div>
                    </div>
                    <div id="serviceLogs" class="log-content log-content-full"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Log Viewer Modal -->
    <div id="logModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="logModalTitle">Logs</h2>
                <button class="close-btn" onclick="closeLogModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="logContent" class="log-content"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

